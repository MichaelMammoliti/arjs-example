var THREEx=THREEx||{};THREEx.ArSmoothedControls=function(t,e){var i=this;THREEx.ArBaseControls.call(this,t),this.object3d.visible=!1,this._lastLerpStepAt=null,this._visibleStartedAt=null,this._unvisibleStartedAt=null,e=e||{},this.parameters={lerpPosition:.8,lerpQuaternion:.2,lerpScale:.7,lerpStepDelay:1/60,minVisibleDelay:0,minUnvisibleDelay:.2},function(t){if(void 0!==t)for(var e in t){var s=t[e];void 0!==s?void 0!==i.parameters[e]?i.parameters[e]=s:console.warn("THREEx.ArSmoothedControls: '"+e+"' is not a property of this material."):console.warn("THREEx.ArSmoothedControls: '"+e+"' parameter is undefined.")}}(e)},THREEx.ArSmoothedControls.prototype=Object.create(THREEx.ArBaseControls.prototype),THREEx.ArSmoothedControls.prototype.constructor=THREEx.ArSmoothedControls,THREEx.ArSmoothedControls.prototype.update=function(t){var e=this.object3d,i=this.parameters,s=e.visible,r=performance.now()/1e3;if(!1===t.visible&&(this._visibleStartedAt=null),!0===t.visible&&(this._unvisibleStartedAt=null),!0===t.visible&&null===this._visibleStartedAt&&(this._visibleStartedAt=r),!1===t.visible&&null===this._unvisibleStartedAt&&(this._unvisibleStartedAt=r),!1===s&&!0===t.visible&&r-this._visibleStartedAt>=this.parameters.minVisibleDelay&&(e.visible=!0,e.position.copy(t.position),e.quaternion.copy(t.quaternion),e.scale.copy(t.scale)),!0===s&&!1===t.visible&&r-this._unvisibleStartedAt>=this.parameters.minUnvisibleDelay&&(e.visible=!1),null===this._lastLerpStepAt)a(),this._lastLerpStepAt=r;else for(var l=Math.floor((r-this._lastLerpStepAt)/this.parameters.lerpStepDelay),o=0;o<l;o++)a(),this._lastLerpStepAt+=this.parameters.lerpStepDelay;return this.object3d.updateMatrix(),!1===s&&!0===e.visible&&this.dispatchEvent({type:"becameVisible"}),void(!0===s&&!1===e.visible&&this.dispatchEvent({type:"becameUnVisible"}));function a(){e.position.lerp(t.position,i.lerpPosition),e.quaternion.slerp(t.quaternion,i.lerpQuaternion),e.scale.lerp(t.scale,i.lerpScale)}};